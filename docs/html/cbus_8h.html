<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CBUSlib: cbus.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CBUSlib<span id="projectnumber">&#160;2m</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('cbus_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">cbus.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;cbusdefs.h&quot;</code><br />
<code>#include &quot;hwsettings.h&quot;</code><br />
<code>#include &quot;<a class="el" href="cbusconfig_8h_source.html">cbusconfig.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="can18_8h_source.html">can18.h</a>&quot;</code><br />
</div>
<p><a href="cbus_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abfa49bc81ef7dbdb8cc55419a4228444"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#abfa49bc81ef7dbdb8cc55419a4228444">ALL_CBUS</a>&#160;&#160;&#160;0xFF</td></tr>
<tr class="separator:abfa49bc81ef7dbdb8cc55419a4228444"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a047759e5f3014852b1433ef82acddfc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#a047759e5f3014852b1433ef82acddfc1">cbusInit</a> (WORD initNodeID)</td></tr>
<tr class="memdesc:a047759e5f3014852b1433ef82acddfc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise CBUS - Note: CANID only used when bus type is CAN.  <a href="cbus_8h.html#a047759e5f3014852b1433ef82acddfc1">More...</a><br /></td></tr>
<tr class="separator:a047759e5f3014852b1433ef82acddfc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8e503655d0649f4c10c4e417c38589"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#a9a8e503655d0649f4c10c4e417c38589">cbusMsgReceived</a> (BYTE cbusNum, BYTE *msg)</td></tr>
<tr class="memdesc:a9a8e503655d0649f4c10c4e417c38589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for CBUS message received.  <a href="cbus_8h.html#a9a8e503655d0649f4c10c4e417c38589">More...</a><br /></td></tr>
<tr class="separator:a9a8e503655d0649f4c10c4e417c38589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9173bc371be4a0116f0139282e8b7f3"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#af9173bc371be4a0116f0139282e8b7f3">cbusSendSingleOpc</a> (BYTE cbusNum, BYTE opc)</td></tr>
<tr class="memdesc:af9173bc371be4a0116f0139282e8b7f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send single byte frame - opcode only.  <a href="cbus_8h.html#af9173bc371be4a0116f0139282e8b7f3">More...</a><br /></td></tr>
<tr class="separator:af9173bc371be4a0116f0139282e8b7f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c585d0fe57a96c4daa1c179fa1e450"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#a99c585d0fe57a96c4daa1c179fa1e450">cbusSendOpcMyNN</a> (BYTE cbusNum, BYTE opc, BYTE *msg)</td></tr>
<tr class="memdesc:a99c585d0fe57a96c4daa1c179fa1e450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send opcode plus our node number, can be used to send simple 3-byte frame, or may have further bytes prepared in the buffer by the caller.  <a href="cbus_8h.html#a99c585d0fe57a96c4daa1c179fa1e450">More...</a><br /></td></tr>
<tr class="separator:a99c585d0fe57a96c4daa1c179fa1e450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6aeb8b1b501514e743383212afe9fa7"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#aa6aeb8b1b501514e743383212afe9fa7">cbusSendOpcNN</a> (BYTE cbusNum, BYTE opc, WORD Node_id, BYTE *msg)</td></tr>
<tr class="memdesc:aa6aeb8b1b501514e743383212afe9fa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send opcode plus specified node number, can be used to send simple 3-byte frame, or may have further bytes prepared in the buffer by the caller.  <a href="cbus_8h.html#aa6aeb8b1b501514e743383212afe9fa7">More...</a><br /></td></tr>
<tr class="separator:aa6aeb8b1b501514e743383212afe9fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab82dc2584863d01c43078a69138ce2"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#a7ab82dc2584863d01c43078a69138ce2">cbusSendMsgMyNN</a> (BYTE cbusNum, BYTE *msg)</td></tr>
<tr class="memdesc:a7ab82dc2584863d01c43078a69138ce2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a CBUS message, putting our Node Number in first two message bytes.  <a href="cbus_8h.html#a7ab82dc2584863d01c43078a69138ce2">More...</a><br /></td></tr>
<tr class="separator:a7ab82dc2584863d01c43078a69138ce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf92c9ff5d24db5f1b41fcebc4c2c9db"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#adf92c9ff5d24db5f1b41fcebc4c2c9db">cbusSendMsgNN</a> (BYTE cbusNum, WORD Node_id, BYTE *msg)</td></tr>
<tr class="memdesc:adf92c9ff5d24db5f1b41fcebc4c2c9db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a CBUS message, work out node Number and put it in first two message bytes.  <a href="cbus_8h.html#adf92c9ff5d24db5f1b41fcebc4c2c9db">More...</a><br /></td></tr>
<tr class="separator:adf92c9ff5d24db5f1b41fcebc4c2c9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af539dc168de8d9c6d7407b217721ee16"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#af539dc168de8d9c6d7407b217721ee16">cbusSendMsg</a> (BYTE cbusNum, BYTE *msg)</td></tr>
<tr class="memdesc:af539dc168de8d9c6d7407b217721ee16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a CBUS message where data bytes have already been loaded Works out data length from opcode If cbusNum is set to 0xFF, transmits on all defined CBUS connections.  <a href="cbus_8h.html#af539dc168de8d9c6d7407b217721ee16">More...</a><br /></td></tr>
<tr class="separator:af539dc168de8d9c6d7407b217721ee16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec381632851697327dde8be63b88538a"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#aec381632851697327dde8be63b88538a">cbusSendMyEvent</a> (BYTE cbusNum, WORD eventNum, BOOL onEvent)</td></tr>
<tr class="memdesc:aec381632851697327dde8be63b88538a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send long CBUS event, no data, using our node number.  <a href="cbus_8h.html#aec381632851697327dde8be63b88538a">More...</a><br /></td></tr>
<tr class="separator:aec381632851697327dde8be63b88538a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3090a52a0201caf922f6f7f285c105"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#aeb3090a52a0201caf922f6f7f285c105">cbusSendEvent</a> (BYTE cbusNum, WORD eventNode, WORD eventNum, BOOL onEvent)</td></tr>
<tr class="memdesc:aeb3090a52a0201caf922f6f7f285c105"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send CBUS event, no data, using specified node number.  <a href="cbus_8h.html#aeb3090a52a0201caf922f6f7f285c105">More...</a><br /></td></tr>
<tr class="separator:aeb3090a52a0201caf922f6f7f285c105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb41fbe2253df0e09cb05958f0946b0f"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#acb41fbe2253df0e09cb05958f0946b0f">cbusSendEventWithData</a> (BYTE cbusNum, WORD eventNode, WORD eventNum, BOOL onEvent, BYTE *msg, BYTE datalen)</td></tr>
<tr class="memdesc:acb41fbe2253df0e09cb05958f0946b0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send CBUS event with optional data bytes - works out appropriate opcode.  <a href="cbus_8h.html#acb41fbe2253df0e09cb05958f0946b0f">More...</a><br /></td></tr>
<tr class="separator:acb41fbe2253df0e09cb05958f0946b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589da2410bb1e13cb7fb6318fbd4656f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#a589da2410bb1e13cb7fb6318fbd4656f">cbusSendDataEvent</a> (BYTE cbusNum, WORD Node_id, BYTE *debug_data)</td></tr>
<tr class="memdesc:a589da2410bb1e13cb7fb6318fbd4656f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a debug message with 5 data bytes.  <a href="cbus_8h.html#a589da2410bb1e13cb7fb6318fbd4656f">More...</a><br /></td></tr>
<tr class="separator:a589da2410bb1e13cb7fb6318fbd4656f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afe371507645d43046b47de868ec9ae81"><td class="memItemLeft" align="right" valign="top">WORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#afe371507645d43046b47de868ec9ae81">nodeID</a></td></tr>
<tr class="memdesc:afe371507645d43046b47de868ec9ae81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routines to support CBUS over CAN or MIWI.  <a href="cbus_8h.html#afe371507645d43046b47de868ec9ae81">More...</a><br /></td></tr>
<tr class="separator:afe371507645d43046b47de868ec9ae81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822854ccb8be0f1c7a05827c53fb6616"><td class="memItemLeft" align="right" valign="top">BYTE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cbus_8h.html#a822854ccb8be0f1c7a05827c53fb6616">cbusMsg</a> [sizeof(<a class="el" href="struct_can_packet.html">CanPacket</a>)]</td></tr>
<tr class="separator:a822854ccb8be0f1c7a05827c53fb6616"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="abfa49bc81ef7dbdb8cc55419a4228444" name="abfa49bc81ef7dbdb8cc55419a4228444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa49bc81ef7dbdb8cc55419a4228444">&#9670;&nbsp;</a></span>ALL_CBUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALL_CBUS&#160;&#160;&#160;0xFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a047759e5f3014852b1433ef82acddfc1" name="a047759e5f3014852b1433ef82acddfc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a047759e5f3014852b1433ef82acddfc1">&#9670;&nbsp;</a></span>cbusInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbusInit </td>
          <td>(</td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>initNodeID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise CBUS - Note: CANID only used when bus type is CAN. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initNodeID</td><td>the CANID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a8e503655d0649f4c10c4e417c38589" name="a9a8e503655d0649f4c10c4e417c38589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8e503655d0649f4c10c4e417c38589">&#9670;&nbsp;</a></span>cbusMsgReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusMsgReceived </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for CBUS message received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">msg</td><td>location of received message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE with message in msg buffer if a message has been received </dd></dl>

</div>
</div>
<a id="a589da2410bb1e13cb7fb6318fbd4656f" name="a589da2410bb1e13cb7fb6318fbd4656f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a589da2410bb1e13cb7fb6318fbd4656f">&#9670;&nbsp;</a></span>cbusSendDataEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbusSendDataEvent </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>nodeID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>debug_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a debug message with 5 data bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">nodeID</td><td>The bytes to be be sent in the NN position </td></tr>
    <tr><td class="paramname">debug_data</td><td>the CBUS message to be sent </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeb3090a52a0201caf922f6f7f285c105" name="aeb3090a52a0201caf922f6f7f285c105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb3090a52a0201caf922f6f7f285c105">&#9670;&nbsp;</a></span>cbusSendEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendEvent </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>eventNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>eventNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>onEvent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send CBUS event, no data, using specified node number. </p>
<p >Send short event if eventNode is 0</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">eventNode</td><td>the event node number. 0 for a short event </td></tr>
    <tr><td class="paramname">eventNum</td><td>the CBUS event EN </td></tr>
    <tr><td class="paramname">onEvent</td><td>if true ON event otherwise OFF event is sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<a id="acb41fbe2253df0e09cb05958f0946b0f" name="acb41fbe2253df0e09cb05958f0946b0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb41fbe2253df0e09cb05958f0946b0f">&#9670;&nbsp;</a></span>cbusSendEventWithData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendEventWithData </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>eventNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>eventNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>onEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send CBUS event with optional data bytes - works out appropriate opcode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">eventNode</td><td>the event node number. 0 for a short event </td></tr>
    <tr><td class="paramname">eventNum</td><td>the CBUS event EN </td></tr>
    <tr><td class="paramname">onEvent</td><td>if true ON event otherwise OFF event is sent </td></tr>
    <tr><td class="paramname">msg</td><td>the CBUS message data byes to be sent </td></tr>
    <tr><td class="paramname">the</td><td>number of data bytes to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<a id="af539dc168de8d9c6d7407b217721ee16" name="af539dc168de8d9c6d7407b217721ee16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af539dc168de8d9c6d7407b217721ee16">&#9670;&nbsp;</a></span>cbusSendMsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendMsg </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a CBUS message where data bytes have already been loaded Works out data length from opcode If cbusNum is set to 0xFF, transmits on all defined CBUS connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">msg</td><td>the CBUS message to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<a id="a7ab82dc2584863d01c43078a69138ce2" name="a7ab82dc2584863d01c43078a69138ce2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab82dc2584863d01c43078a69138ce2">&#9670;&nbsp;</a></span>cbusSendMsgMyNN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendMsgMyNN </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a CBUS message, putting our Node Number in first two message bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">msg</td><td>the CBUS message to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<a id="adf92c9ff5d24db5f1b41fcebc4c2c9db" name="adf92c9ff5d24db5f1b41fcebc4c2c9db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf92c9ff5d24db5f1b41fcebc4c2c9db">&#9670;&nbsp;</a></span>cbusSendMsgNN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendMsgNN </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>eventNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a CBUS message, work out node Number and put it in first two message bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">eventNode</td><td>Bytes added to message after our node Number </td></tr>
    <tr><td class="paramname">msg</td><td>the CBUS message to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<a id="aec381632851697327dde8be63b88538a" name="aec381632851697327dde8be63b88538a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec381632851697327dde8be63b88538a">&#9670;&nbsp;</a></span>cbusSendMyEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendMyEvent </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>eventNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>onEvent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send long CBUS event, no data, using our node number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">eventNum</td><td>the CBUS event EN </td></tr>
    <tr><td class="paramname">onEvent</td><td>if true ON event otherwise OFF event is sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<a id="a99c585d0fe57a96c4daa1c179fa1e450" name="a99c585d0fe57a96c4daa1c179fa1e450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c585d0fe57a96c4daa1c179fa1e450">&#9670;&nbsp;</a></span>cbusSendOpcMyNN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendOpcMyNN </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>opc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send opcode plus our node number, can be used to send simple 3-byte frame, or may have further bytes prepared in the buffer by the caller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">opc</td><td>the CBUS opcode to be sent </td></tr>
    <tr><td class="paramname">msg</td><td>the CBUS message to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<a id="aa6aeb8b1b501514e743383212afe9fa7" name="aa6aeb8b1b501514e743383212afe9fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6aeb8b1b501514e743383212afe9fa7">&#9670;&nbsp;</a></span>cbusSendOpcNN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendOpcNN </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>opc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>nodeID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send opcode plus specified node number, can be used to send simple 3-byte frame, or may have further bytes prepared in the buffer by the caller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">opc</td><td>the CBUS opcode to be sent </td></tr>
    <tr><td class="paramname">nodeID</td><td>the CBUS node number to be sent </td></tr>
    <tr><td class="paramname">msg</td><td>the CBUS message to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<a id="af9173bc371be4a0116f0139282e8b7f3" name="af9173bc371be4a0116f0139282e8b7f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9173bc371be4a0116f0139282e8b7f3">&#9670;&nbsp;</a></span>cbusSendSingleOpc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL cbusSendSingleOpc </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>cbusNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>opc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send single byte frame - opcode only. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbusNum</td><td>whether CAN or MIWI bus is to be checked. </td></tr>
    <tr><td class="paramname">opc</td><td>the CBUS opcode to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sent ok </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a822854ccb8be0f1c7a05827c53fb6616" name="a822854ccb8be0f1c7a05827c53fb6616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a822854ccb8be0f1c7a05827c53fb6616">&#9670;&nbsp;</a></span>cbusMsg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BYTE cbusMsg[sizeof(<a class="el" href="struct_can_packet.html">CanPacket</a>)]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afe371507645d43046b47de868ec9ae81" name="afe371507645d43046b47de868ec9ae81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe371507645d43046b47de868ec9ae81">&#9670;&nbsp;</a></span>nodeID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WORD nodeID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Routines to support CBUS over CAN or MIWI. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="cbus_8h.html">cbus.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
